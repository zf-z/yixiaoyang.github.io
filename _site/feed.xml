<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Leon&#39;s Blog</title>
    <description>Embedded System, Linux, Python &amp; Ruby</description>
    <link>/</link>
    <atom:link href="/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Wed, 23 Mar 2016 17:05:50 +0800</pubDate>
    <lastBuildDate>Wed, 23 Mar 2016 17:05:50 +0800</lastBuildDate>
    <generator>Jekyll v3.1.2</generator>
    
      <item>
        <title>Weechat Usage</title>
        <description>&lt;h1&gt;WeeChat存活指南&lt;/h1&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;设置nicks,username,realname
‘’’
/set irc.server.freenode.nicks “leon_e”
/set irc.server.freenode.username “leon_e”
/set irc.server.freenode.realname “leon_e”
‘’’&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;添加一个proxy服务器 &lt;code class=&quot;highlighter-rouge&quot;&gt;/proxy add shadowsocks 127.0.0.1 1080&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;#服务器
# freenode #ubuntu-cn #g0v.tw&lt;/p&gt;

&lt;p&gt;常 用 基 本 命 令 命令用途说明 命 令 使 用 举 例&lt;/p&gt;

&lt;p&gt;/links 列服务器连接信息 /links&lt;/p&gt;

&lt;p&gt;/list 列出所有聊天室 /list&lt;/p&gt;

&lt;p&gt;/nick 名字 更换名字 /nick 林桃子67&lt;/p&gt;

&lt;p&gt;/ns register 密码 注册名字 /ns regiser 123456&lt;/p&gt;

&lt;p&gt;/pass 密码 验证名字密码 /pass 123456&lt;/p&gt;

&lt;p&gt;/ns set password 新密码 修改名字密码 /ns set password 654321&lt;/p&gt;

&lt;p&gt;/mode 自己名字 +/-i 设置昵称是否隐藏 /mode 林桃子67 +/-i&lt;/p&gt;

&lt;p&gt;/mode 自己名字 +/-s 是否收服务器信息 /mode 是我 +/-s&lt;/p&gt;

&lt;p&gt;/run 文件名 运行程序或文件 /run jpbot.exe&lt;/p&gt;

&lt;p&gt;/whois 名字 查看网友的信息 /whois 是我&lt;/p&gt;

&lt;p&gt;/userhost 名字 查看网友的IP地址 /userhost 是我&lt;/p&gt;

&lt;p&gt;/ns info 名字 查名字注册信息 /ns info 名字&lt;/p&gt;

&lt;p&gt;/ns status 名字 查询用户状态 /ns status 名字&lt;/p&gt;

&lt;p&gt;/who 看看谁在线上 /who&lt;/p&gt;

&lt;p&gt;/who #房间名 看看谁在房间中 /who #林桃子67的房间&lt;/p&gt;

&lt;p&gt;/names #房间名 列房间中所有用户 /names #日本女性的房间&lt;/p&gt;

&lt;p&gt;/me 要说的话 使用动作表情 /me 大家好，今天你IRC了么&lt;/p&gt;

&lt;p&gt;/say 要说的话 在当前频道说话 /say 老公，想我了吗&lt;/p&gt;

&lt;p&gt;/notice 名字 要说的话 向某人发出通告 /notice 远方的风 有事找你&lt;/p&gt;

&lt;p&gt;/query 名字 发送信息 开小窗和他私聊 /query 夕阳天使 hi，久违了你&lt;/p&gt;

&lt;p&gt;/privmsg 名字 发送信息 开小窗发送信息 /privmsg 天使源 hi，久违了你&lt;/p&gt;

&lt;p&gt;/msg 他的名字 信息内容 给他悄悄发送信息 /msg 于天 你好!&lt;/p&gt;

&lt;p&gt;/msg 房间名字 信息内容 向房间全体成员说 /msg #日语角 大家好!&lt;/p&gt;

&lt;p&gt;/omsg #房间名字 要发的信息 仅对屋中的@说话 /omsg #日语角 见吴山了没有&lt;/p&gt;

&lt;p&gt;/amsg 要发的信息 多个频道同发信息 /amsg 我老公在那里呢&lt;/p&gt;

&lt;p&gt;/onotice 房间名字 要发的话 在该屋对所有op说 /onotice #日语角 水素死翘了&lt;/p&gt;

&lt;p&gt;/close -m 关闭所有小窗聊天 /close -m&lt;/p&gt;

&lt;p&gt;/ignore 他的名字 忽略你讨厌的人 /ignore 杨过,shll,&lt;/p&gt;

&lt;p&gt;/ignore -T * 忽略别人CTCP查询 /ignore -T *&lt;/p&gt;

&lt;p&gt;　　 /join #房间名 加入一个房间 /join #林桃子67的房间&lt;/p&gt;

&lt;p&gt;/away 给出离开的原因 离开并给出原因 /away 对不起GG，我男友来了&lt;/p&gt;

&lt;p&gt;/away 取消离开设置 /away&lt;/p&gt;

&lt;p&gt;/part #房间名 退出信息 退出当前房间 /part #日语角 bye大家&lt;/p&gt;

&lt;p&gt;/partall 退出信息 退出所有房间 /partall byeall&lt;/p&gt;

&lt;p&gt;/quit 退出信息 退出IRC退出连接 /quit 今天实在是累了，bye&lt;/p&gt;

&lt;p&gt;/exit 退出信息 关闭irc并退出 /exit 睡觉觉去了&lt;/p&gt;

&lt;p&gt;/disconnect 退出信息 与服务器断开连接 /disconnect 我是故意断线的&lt;/p&gt;

&lt;p&gt;/server bj.irc.263.net 6667 更换irc服务器 /server bj.irc.263.net 6667&lt;/p&gt;

&lt;p&gt;/cs register #房间名字 密码 你对房间的描述 注册自己的房间 /cs register #&lt;/p&gt;

&lt;p&gt;林桃子67的房间 123456 我是桃子67我怕谁&lt;/p&gt;

&lt;p&gt;/topic #房间名字 主题内容 更改房间主题 /topic #日语角 欢迎你朋友&lt;/p&gt;

&lt;p&gt;/invite 他的名字 #房间名 邀请别人来房间 /invite 紫丁香花 #日语角&lt;/p&gt;

&lt;p&gt;/kick #房间名 他的名字 把人踢出房间 /kick #林桃子67的房间 PC100&lt;/p&gt;

&lt;p&gt;/mode #房间名 +/-b 他的名字 把某人禁止/解禁 /mode #林桃子67的房间 +/-b  然采&lt;/p&gt;

&lt;p&gt;/mode #房间名 +/-o 朋友名字 给朋友加/减帽子 /mode #林桃子67的房间 +/-o  然采&lt;/p&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;/auto -r on&lt;/td&gt;
      &lt;td&gt;off&lt;/td&gt;
      &lt;td&gt;他的名字 #频道名字 自动朋友加/减帽 /auto -r [on然采 ]#林桃子67的房间 出错了&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;/mode #房间名 +/-l 人数 设置限制房间人数 /mode #日语角 +/-l 100&lt;/p&gt;

&lt;p&gt;/mode #房间名字 +/-n 禁不禁止外部信息 /mode #日语角 +/-n&lt;/p&gt;

&lt;p&gt;/mode #房间名字+/-m 限制发言仅@/+说 /mode #房间名字 +/-m&lt;/p&gt;

&lt;p&gt;/mode #房间名字 +/-i 设置邀请模式 /mode #日语角 +/-i&lt;/p&gt;

&lt;p&gt;/mode #房间名字 +/-p 是否设置私有模式 /mode #日语角 +/-p&lt;/p&gt;

&lt;p&gt;/mode #房间名字 +/-s 是否设置秘密模式 /mode #日语角 +/-s&lt;/p&gt;

&lt;p&gt;/mode #房间名字 +/-t 是否只@能改主题 /mode #日语角 +/-t&lt;/p&gt;

&lt;p&gt;/mode #房间名 +k 密码 给房间加密码 /mode #日语角 +k 123456&lt;/p&gt;

&lt;p&gt;/join #房间名 密码 进入有密码的房间 /join #日语角 123456&lt;/p&gt;

&lt;p&gt;/channel 调出频道模式设置 /channel&lt;/p&gt;

&lt;p&gt;/cs info #房间名字 查看频道注册信息 /cs info #日语角&lt;/p&gt;

&lt;h2&gt;#&lt;/h2&gt;

&lt;p&gt;nickserv 昵称服务&lt;/p&gt;

&lt;p&gt;更换昵称 /nick 你要换的新名字&lt;/p&gt;

&lt;p&gt;注册昵称 /ns register 密码 邮箱&lt;/p&gt;

&lt;p&gt;认证昵称 /ns identify 名字密码&lt;/p&gt;

&lt;p&gt;这个也认证昵称 /pass 名字密码&lt;/p&gt;

&lt;p&gt;昵称保护 /ns set kill on/off&lt;/p&gt;

&lt;p&gt;昵称安全 /ns set secure on/off&lt;/p&gt;

&lt;p&gt;昵称保密 /ns set private on/off&lt;/p&gt;

&lt;p&gt;修改密码 /ns set password 新密码&lt;/p&gt;

&lt;p&gt;昵称邮箱 /ns set email 你的邮箱&lt;/p&gt;

&lt;p&gt;昵称主页 /ns set url http://52irc.org&lt;/p&gt;

&lt;p&gt;隐藏邮件 /ns set hide emall On/off&lt;/p&gt;

&lt;p&gt;隐藏网络地址 /ns set hide usermask On/off&lt;/p&gt;

&lt;p&gt;隐藏退出信息 /ns set hide quit On/off&lt;/p&gt;

&lt;p&gt;杀掉盗用你名字者 /ns ghost 你的妮称 密码&lt;/p&gt;

&lt;p&gt;注销昵称 /ns drop 你的妮称（得先认证）&lt;/p&gt;

&lt;h2&gt;#&lt;/h2&gt;

&lt;p&gt;chanserv 频道服务&lt;/p&gt;

&lt;p&gt;查看房间信息 /cs info #频道名字&lt;/p&gt;

&lt;p&gt;注册房间 /cs register #频道名字 密码 简介&lt;/p&gt;

&lt;p&gt;认证你的房主身份 /cs identify #频道名字 频道密码&lt;/p&gt;

&lt;p&gt;设置房间的主页 /cs set #频道名字 url 主页地址&lt;/p&gt;

&lt;p&gt;设置房间的邮箱 /cs set #频道名字 email 邮件地址&lt;/p&gt;

&lt;p&gt;设置房间的主题 /cs set #频道名字 topic 主题内容&lt;/p&gt;

&lt;p&gt;保留房间的主题 /cs set #频道名字 keeptopic on/off&lt;/p&gt;

&lt;p&gt;锁定房间的主题 /cs set #频道名字 topiclock on/off&lt;/p&gt;

&lt;p&gt;设置新的房间主人 /cs set #频道名字 founder 新任房主&lt;/p&gt;

&lt;p&gt;设置房间的新密码 /cs set #频道名字 password 频道密码&lt;/p&gt;

&lt;p&gt;设置房间安全控制 /cs set #频道名字 secure on/off&lt;/p&gt;

&lt;p&gt;设置房间管理员控制 /cs set #频道名字 secureops on/off&lt;/p&gt;

&lt;h2&gt;#&lt;/h2&gt;

&lt;p&gt;memoserv 留言服务&lt;/p&gt;

&lt;p&gt;列表所有留言 /ms list&lt;/p&gt;

&lt;p&gt;列表最新留言 /ms list new&lt;/p&gt;

&lt;p&gt;阅读最新留言 /ms read last&lt;/p&gt;

&lt;p&gt;阅读特定留言 /ms read 留言号码&lt;/p&gt;

&lt;p&gt;删除指定的留言 /ms del 留言号码&lt;/p&gt;

&lt;p&gt;删除所有的留言 /ms del all&lt;/p&gt;

&lt;p&gt;给人发送留言 /ms send 对方妮称 留言内容&lt;/p&gt;

&lt;h2&gt;#&lt;/h2&gt;

&lt;p&gt;chanserv 频道服务&lt;/p&gt;

&lt;p&gt;设置频道进入信息 /cs set #频道名字 entrymsg 所设置信息&lt;/p&gt;

&lt;p&gt;用服务器给客人加帽子 /cs op #频道名字 对方名字&lt;/p&gt;

&lt;p&gt;服务器摘掉某人的帽子 /cs deop #频道名字 对方名字&lt;/p&gt;

&lt;p&gt;让服务器为自已解ban /cs unban #频道名字&lt;/p&gt;

&lt;p&gt;增加一人到房踢列表/cs akick #频道名字 add 对方名字&lt;/p&gt;

&lt;p&gt;删除一人到房踢列表/cs akick #频道名字 del 对方名字&lt;/p&gt;

&lt;p&gt;查看房踢列表/cs akick #频道名字 list&lt;/p&gt;

&lt;p&gt;清除房间的所有ban /cs clear #频道名字 bans&lt;/p&gt;

&lt;p&gt;清除房间的模式设置 /cs clear #频道名字 modes&lt;/p&gt;

&lt;p&gt;清除房间的所有帽子 /cs clear #频道名字 ops&lt;/p&gt;

&lt;p&gt;清除房间的所有用户 /cs clear #频道名字users&lt;/p&gt;

&lt;p&gt;注销房间 /cs drop #频道名字&lt;/p&gt;

&lt;h1&gt;#&lt;/h1&gt;

&lt;p&gt;CTCP查询命令&lt;/p&gt;

&lt;p&gt;查对方反映速度 /ctcp 对方名字 ping&lt;/p&gt;

&lt;p&gt;查对方当地时间 /ctcp 对方名字 time&lt;/p&gt;

&lt;p&gt;查对方软件版本 /ctcp 对方名字 version&lt;/p&gt;

&lt;p&gt;查对方的用户信息 /ctcp 对方名字userinfo&lt;/p&gt;

&lt;p&gt;查对方的用户信息 /ctcp 对方名字 clientinfo&lt;/p&gt;

&lt;h2&gt;#&lt;/h2&gt;
&lt;p&gt;##&lt;/p&gt;

</description>
        <pubDate>Thu, 10 Mar 2016 00:00:00 +0800</pubDate>
        <link>/2016/03/10/WeeChat-usage/</link>
        <guid isPermaLink="true">/2016/03/10/WeeChat-usage/</guid>
        
        
      </item>
    
      <item>
        <title>[Qt] 关于Qt编译error: undefined reference to `vtable for xxx错误</title>
        <description>&lt;p&gt;ref: &lt;a href=&quot;http://stackoverflow.com/questions/13121310/adding-signal-to-custom-qthread&quot;&gt;http://stackoverflow.com/questions/13121310/adding-signal-to-custom-qthread&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Make shure your class is in a different .cpp and .h file that are included in the MOC process generation. undefined reference to `vtable means that the moc cpp file is not generated.&lt;/p&gt;

&lt;p&gt;In case you are using Qt Creator and when you compiled your project for the first time, you did not put “Q_OBJECT” in your header file, then the moc cpp file for your (qthread) cpp file was not generated. In this case, simply running “Clean All” and “Rebuild All” after putting “Q_OBJECT” in your header file will not work. You need to go to your build folder to manually delete the Qt generated “Makefile” and run “Rebuild All” or “Build All” again, your error message will be gone.&lt;/p&gt;

</description>
        <pubDate>Sun, 06 Mar 2016 02:03:25 +0800</pubDate>
        <link>/2016/03/06/Qt-Undefine-VTable-error/</link>
        <guid isPermaLink="true">/2016/03/06/Qt-Undefine-VTable-error/</guid>
        
        <category>c++</category>
        
        <category>Qt</category>
        
        
        <category>cpp</category>
        
      </item>
    
      <item>
        <title>[Android] Android驱动开发二三事</title>
        <description>&lt;p&gt;Android在嵌入式开发中越来越常见。底层出了linux内核基础的东西外，加了很多中间层的东西。大概梳理一下会遇到的一些问题。&lt;/p&gt;

&lt;h3&gt;Android架构解析&lt;/h3&gt;

&lt;p&gt;一图胜千言&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://elinux.org/images/c/c2/Android-system-architecture.jpg&quot; alt=&quot;android架构图&quot; /&gt;&lt;/p&gt;

&lt;h3&gt;Android驱动&lt;/h3&gt;

&lt;p&gt;4.x以上的系统大同小异，几乎都是先保证linux kernel层驱动 =》 native驱动测试 =》 hal层 =》 framework层 =》 接口层 =》 app层这种方向给上层调用的。legency的方法需要编写驱动so文件打包到app，而最新的hardware service方法则需要编写硬件服务。&lt;/p&gt;

&lt;p&gt;具体来说，legency驱动方法可以不需要Android源代码单独进行编译，完成一个基本legency驱动需要：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;写LINUX驱动&lt;/li&gt;
  &lt;li&gt;写LINUX应用测试程序&lt;/li&gt;
  &lt;li&gt;写HAL驱动代码，调用linux native接口控制硬件。&lt;/li&gt;
  &lt;li&gt;写JNI接口，用来包装第二步写的应用（要用NDK来编译）生成一个.SO文件，相当于CE下的DLL&lt;/li&gt;
  &lt;li&gt;写JAVA程序,专门写一个类包含.SO文件，然后在JAVA里调用.SO里的函数。例子，可以看NDK里面的Sample文件夹，里面有一些例子&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;对于使用硬件服务方式编写驱动，好处是比较灵活给上层调用，硬件隔离，需要Android源码配合编译，一般编写方式如下：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;linux 字符设备驱动的编写(kernel/drivers/char/chr_dev/)&lt;/li&gt;
  &lt;li&gt;linux 字符设备驱动的验证程序(openplatform/android/externl/chr_dev/)&lt;/li&gt;
  &lt;li&gt;硬件抽象层(hal)子程序编写(android/hardware/libhardware/moudles/chr_dev/ 及android/hardware/libhardware/include/)&lt;/li&gt;
  &lt;li&gt;jni 程序编写(android/framework/base/services/jni/)&lt;/li&gt;
  &lt;li&gt;aidl 编写(android/framework/base/core/java/android/os/)&lt;/li&gt;
  &lt;li&gt;aidl 接口具体实现(android/framework/base/services/java/com/android/server/)&lt;/li&gt;
  &lt;li&gt;字符设备文件权限设置 (android/system/core/rootdir/ueventd.rc)&lt;/li&gt;
  &lt;li&gt;字符设备ko文件，自动加载设置(android/openplatform/project/common/kk_4.4_overlay/rootfs/sbin/init.rc)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;之前写个的一个指纹模块驱动代码结构，可以看出相对于传统的linux驱动，android驱动涉及到android架构中的HAL层、framwork（jni、service、接口层），然后才是app进行硬件服务接口调用。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
hal_jni_biovox2/                                       
├── cp.sh
├── development
│   └── apps
│       └── BiovoX2 指纹模块的native测试程序
│           ├── Android.mk
│           ├── biovox2.c
│           ├── biovox2.h
│           ├── code.h
│           ├── main_entry.c
│           ├── Makefile
│           ├── tty.c
│           ├── tty.h
│           └── X2Main.c
├── device
│   └── softwinner
│       └── astar-y3
│           └── init.sun8i.rc 删除蓝牙对ttyS1权限的设置部分
├── frameworks
│   └── base
│       ├── Android.mk
│       ├── core
│       │   └── java
│       │       └── android
│       │           └── os
│       │               └── IBiovoxService.aidl 指纹模块接口定义
│       └── services
│           ├── java
│           │   └── com
│           │       └── android
│           │           └── server
│           │               ├── BiovoxService.java 指纹模块硬件服务实现，面向APP层的主要实现
│           │               └── SystemServer.java
│           └── jni
│               ├── Android.mk
│               ├── com_android_server_BiovoxService.cpp 指纹模块硬件服务对hal层的调用
│               └── onload.cpp
├── hardware 硬件hal层的实现
│   └── libhardware
│       ├── Android.mk
│       ├── include
│       │   └── hardware
│       │       └── fpm
│       │           └── biovox2.h
│       └── modules
│           └── fpm
│               ├── Android.mk
│               └── biovox2.c
├── packages
│   └── experimental
│       └── FP_TEST
│           └── src
│               └── com
│                   └── example
│                       └── fp_test
│                           └── MainActivity.java APP层测试程序
├── README.md
├── system
│   └── core
│       └── rootdir
│           └── ueventd.rc 开启串口ttyS1对普通用户的读写权限
└── testDev
    ├── Android.mk
    └── testDev.c


&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3&gt;Adnroid书籍&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;《Embedded Android》讲android内部机制比较详细，必读&lt;/li&gt;
  &lt;li&gt;《Android内核揭秘》&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Tue, 02 Feb 2016 19:21:25 +0800</pubDate>
        <link>/2016/02/02/Embedded-Android/</link>
        <guid isPermaLink="true">/2016/02/02/Embedded-Android/</guid>
        
        <category>c++</category>
        
        <category>boost</category>
        
        
        <category>cpp</category>
        
      </item>
    
      <item>
        <title>2016年01月书单</title>
        <description>&lt;h3&gt;统计思维：程序员数学之概率统计&lt;/h3&gt;

&lt;p&gt;重点介绍如何用统计学方法分析大型数据集，介绍如何使用计算机实现各种统计方法,这有诸多优点&lt;/p&gt;

&lt;h3&gt;机器视觉算法和应用&lt;/h3&gt;

&lt;p&gt;机器视觉算法-数据结构&lt;/p&gt;

&lt;p&gt;高斯滤波：高斯滤波是一种线性平滑滤波，适用于消除高斯噪声，广泛应用于图像处理的减噪过程。通俗的讲，高斯滤波就是对整幅图像进行加权平均的过程，每一个像素点的值，都由其本身和邻域内的其他像素值经过加权平均后得到。高斯滤波的具体操作是：用一个模板（或称卷积、掩模）扫描图像中的每一个像素，用模板确定的邻域内像素的加权平均灰度值去替代模板中心像素点的值。在图像处理中，高斯滤波一般有两种实现方式，一是用离散化窗口滑窗卷积，另一种通过傅里叶变换。最常见的就是第一种滑窗实现，只有当离散化的窗口非常大，用滑窗计算量非常大（即使用可分离滤波器的实现）的情况下，可能会考虑基于傅里叶变化的实现方法。&lt;/p&gt;
</description>
        <pubDate>Mon, 18 Jan 2016 01:27:00 +0800</pubDate>
        <link>/2016/01/18/books/</link>
        <guid isPermaLink="true">/2016/01/18/books/</guid>
        
        <category>books</category>
        
        
        <category>Booklist</category>
        
      </item>
    
      <item>
        <title>[Python] 一个抓取985/211大学院系里教师信息的爬虫小框架</title>
        <description>&lt;h3&gt;简介&lt;/h3&gt;

&lt;p&gt;目标是尽可能自动抓取目标大学、所需院系的在职教师名单和详细信息（主要是联系方式，简历等），结果生成格式化csv文件，包含内容包括姓名、英文名、职称、邮件、电话、部门、个人网站、电话、研究方向等。最大的问题在于各大学校院系的网站千奇百怪，格式不尽相同，工作量大。&lt;/p&gt;

&lt;p&gt;思路：爬虫+解析器+存取器&lt;/p&gt;

&lt;h3&gt;依赖&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;python 2.7.10
beautifulsoup4==4.4.1
lxml==3.4.4（remove）
requests==2.8.1
Ghost.py-0.2.3
python-imaging
pytesseract
tesseract-ocr（图像识别）
wand(imageMagic的绑定)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3&gt;其他库&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ImageMagic
media-libs/leptonica
app-text/tesseract-3.04.00-r2::gentoo（需要自行下载源码编译training工具）
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3&gt;OCR训练工具&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;jTessBoxEditor
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3&gt;基本使用&lt;/h3&gt;

&lt;p&gt;我只是写了一个简单的架子，功能：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;解析hao123的211/985名单&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;数据 《=》csv/json相互转化&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;按照用户选择解析各个学校、学院的在职员工数据（模糊匹配职称、电子邮件、电话等等基本信息），并抓取简历保存在学院目录。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;按照设置规则文件抓取目标内容,规则内容如下：&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
     # 目标所在的区域的tag和attrs（属性）
     self.zone_tag = &#39;&#39;
     self.zone_attr = {}
     # 要抓取的目标标签tag
     self.tag_name = tag_name or &#39;&#39;
     # 要抓取的目标标签的递归父亲tag列表
     # &amp;lt;span&amp;gt;&amp;lt;p&amp;gt;
     #   &amp;lt;a&amp;gt;something&amp;lt;/a&amp;gt;
     #  &amp;lt;/p&amp;gt;&amp;lt;/span&amp;gt;
     # 如&amp;lt;a&amp;gt; tag的父亲列表为[&quot;p&quot;,&quot;span&quot;]
     self.parents = []    
     # 1. 目标节点属性
     # {
     #   &#39;class&#39;:true, true或者false表示是否含有此标签
     #   &#39;width&#39;:&#39;21%&#39;，标签为具体值则表示仅当标签=值时抓取
     #   &#39;class&#39;:[&#39;class1&#39;,&#39;class2&#39;], 标签为列表时表示仅当标签值为列表中的值才成立。暂未用到
     # }
     self.attrs = {}
     # 2. 结果筛选，暂未用到
     self.select = []
&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;一般来说，找到合适的zone、目标的tag、属性就能找到要找的内容。&lt;/p&gt;

&lt;p&gt;解析员工数据时，先编辑对应&lt;strong&gt;学校&lt;/strong&gt;下面的json文件，在目标&lt;strong&gt;学院&lt;/strong&gt;的json结构里添加抓取规则。然后在&lt;strong&gt;学院&lt;/strong&gt;目录下定义MyHandler.py文件，写合适的解析脚本进行解析即可得到想要的数据。&lt;/p&gt;

&lt;p&gt;由于每个学院的解析模式各不相同，所以需要在每个学院目录下自己实现两个方法：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;handler：将找到的目标转化为员工数据实体&lt;/li&gt;
  &lt;li&gt;profile_handler：保存简历正文到文件，模糊匹配员工数据并返回&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;json中的主要数据结构如下所示：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&quot;__classname__&quot;: &quot;Academy&quot;,     表示数据的类型，自动写好的
&quot;__module__&quot;: &quot;models&quot;,         表示类的模块，自动写好的
&quot;departments&quot;: {                [*] 找到一个学院的所有教师名单的索引页面，并填写进去,这个页面将用来解析employee（在职员工）
                                格式为名字：网址
    &quot;全职教员&quot;:&quot;http://www.math.pku.edu.cn/static/quanzhijiaoyuan.html&quot;
},
departmentsRule结构暂时不用管，没用到
&quot;departmentsRule&quot;: {
    &quot;__classname__&quot;: &quot;ParseRule&quot;, 
    &quot;__module__&quot;: &quot;models&quot;, 
    &quot;attrs&quot;: {}, 
    &quot;parents&quot;: [], 
    &quot;select&quot;: [], 
    &quot;tag_name&quot;: &quot;&quot;, 
    &quot;zone_attr&quot;: {}, 
    &quot;zone_tag&quot;: &quot;&quot;
}, 
&quot;departmentsUrl&quot;: &quot;&quot;,           没用到
&quot;done&quot;: false,                  没用到
&quot;employees&quot;: [],                没用到，自动生成，不用管
&quot;eng_name&quot;: &quot;www.math.pku.edu.cn&quot;, 自动解析生成学院的英文名字，不用管
&quot;hasDepartments&quot;: false,            不用管
&quot;name&quot;: &quot;数学科学学院&quot;,               自动解析生成，不用管
&quot;parser&quot;: null, 
&quot;rule&quot;: {                       [*]Rule是你的重点，这是一个规则配置文件
    &quot;__classname__&quot;: &quot;ParseRule&quot;, 表示数据的类型，自动写好的
    &quot;__module__&quot;: &quot;models&quot;,       表示类的模块，自动写好的  
    &quot;attrs&quot;: {},                  目标tag_name的属性，类似zone_attr
    &quot;parents&quot;: [],              [*]这个也是重点，目标的父标签，用于缩小解析范围的
    &quot;select&quot;: [],                忽略永不到                              
    &quot;tag_name&quot;: &quot;a&quot;,            [*]目标tag，这个也是重点    
    &quot;zone_attr&quot;: {&quot;id&quot;:&quot;main&quot;}, [*]目标tag的属性，这个也是重点，如&lt;span class=&quot;nt&quot;&gt;&amp;lt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;link&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;中的class属性为link，所以规则为{&quot;class&quot;:&quot;link&quot;}
    &quot;zone_tag&quot;: &quot;div&quot;           [*]目标区域tag，这个也是重点，（标签，如&lt;span class=&quot;nt&quot;&gt;&amp;lt;table&amp;gt;&lt;/span&gt;，&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;，&lt;span class=&quot;nt&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;都是标签），zone用于缩小网站目标范围，过滤冗余信息
},

&quot;sname&quot;: &quot;math&quot;,                  学院简称
&quot;url&quot;: &quot;http://www.math.pku.edu.cn/&quot;,    学院主页，自动解析出来的
&quot;web_engine&quot;: &quot;urllib2&quot;             一般用urllib2,对于特定的js网站，需要用selen
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;####菜单&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;menu0 = &#39;&#39;&#39;
q. 退出
p. 打印所有大学名单
1. 抓取211名单到json文件
2. 从json文件导入211名单
3. 构建输出目录
4. 测试抓取院系导航目录
5. 自动猜测并分析出学校的院系导航链接
6. 抓取院系的名称和主页
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;out目录下如果存在&lt;code class=&quot;highlighter-rouge&quot;&gt;china211.json&lt;/code&gt;则将其大学目录数据导入。如果不存在，可运行&lt;code class=&quot;highlighter-rouge&quot;&gt;python run.py&lt;/code&gt;选择菜单1从hao123抓取。&lt;/li&gt;
  &lt;li&gt;编辑&lt;code class=&quot;highlighter-rouge&quot;&gt;china985.json&lt;/code&gt;，删除不感兴趣的大学。如仅保留985+理工。&lt;/li&gt;
  &lt;li&gt;运行&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    $ python run.py
    选择6菜单
    选择学校
    选择院系
    开始解析
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3&gt;数据结构&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;China211
collges + rule
academies
Department
employees
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;####Parser&lt;/p&gt;

&lt;p&gt;Parser主要有两种，一种是SimpleAParser对于简单的链接+简历url正文的教师队伍介绍页面进行解析。一种是SimpleTableParser对表格式的教师队伍介绍页面进行解析。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;l_parsers = {
    &quot;Parser&quot;: Parser,
    &quot;Hao123_211_Parser&quot;: Hao123_211_Parser,
    &quot;SimpleAParser&quot;: SimpleAParser,
    &quot;AutoAcademyParser&quot;: AutoAcademyParser,
    &quot;SimpleTableParser&quot;:SimpleTableParser
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;####Models&lt;/p&gt;

&lt;p&gt;Models模块包含了相关数据的结构，如College，Academy，Employee类结构，同时提供obj2json和json2obj等串行化/实例化接口。&lt;/p&gt;

&lt;p&gt;###浏览器和javascript支持&lt;/p&gt;

&lt;p&gt;对于一些比较变态的主页（主要是javascript数据），使用selenium调用firefox获取数据&lt;/p&gt;

&lt;h3&gt;反爬虫问题&lt;/h3&gt;

&lt;p&gt;遇到过比较棘手的将邮件等信息用图片方式进行展示的情况，没办法，只能用的OCR方式进行图像文字识别，可能还需要自己训练数据。&lt;/p&gt;

&lt;h3&gt;其他&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;JSon”陷阱”&lt;br /&gt;
 对于自定义类的json化，需要注意成员必须事先定义好。否则在dump时会出现&lt;code class=&quot;highlighter-rouge&quot;&gt;循环解析&lt;/code&gt;的问题。&lt;/li&gt;
  &lt;li&gt;BeautifulSoup解析器&lt;br /&gt;
 社区推荐优先使用lxml，主要是速度较快。但是使用时发现有时解析不到目标，改为python自带的”html-parser”。后期将分析原因，或者向社区提交bug&lt;/li&gt;
  &lt;li&gt;中英文名转换
 主要是中文转英文名，使用了pypinyin库&lt;/li&gt;
&lt;/ol&gt;

&lt;h3&gt;源代码&lt;/h3&gt;

&lt;p&gt;github地址：https://github.com/yixiaoyang/EduParser/&lt;/p&gt;
</description>
        <pubDate>Wed, 06 Jan 2016 16:29:20 +0800</pubDate>
        <link>/2016/01/06/eduparser/</link>
        <guid isPermaLink="true">/2016/01/06/eduparser/</guid>
        
        <category>Python</category>
        
        
        <category>Python</category>
        
      </item>
    
      <item>
        <title>Gentoo seven steps to upgrade</title>
        <description>&lt;p&gt;There is no a full HOWTO introducing whole system upgrading. I hope this simple document can help someone else.&lt;/p&gt;

&lt;p&gt;src: https://forums.gentoo.org/viewtopic-t-807345.html&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;sync portage tree(eix-sync is recommended)&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# eix-sync  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# emerge --sync
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;upgrade whole system&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# emerge -avuDN --with-bdeps y --keep-going world   
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;make configuration file(s) up to date&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# etc-update    
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dispatch-conf 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;fix static library&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lafilefixer --justfixit | grep -v skipping
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;uninstall useless packages&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# emerge -av --depclean 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;Reverse dynamic library Dependency&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# revdep-rebuild
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;clean source code of the old packages&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# eclean -d distfiles
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
        <pubDate>Fri, 25 Dec 2015 16:29:20 +0800</pubDate>
        <link>/2015/12/25/Gentoo-seven-steps-to-upgrade/</link>
        <guid isPermaLink="true">/2015/12/25/Gentoo-seven-steps-to-upgrade/</guid>
        
        <category>shell</category>
        
        <category>gentoo</category>
        
        
        <category>shell</category>
        
      </item>
    
      <item>
        <title>[工具] Linux上的常用‘冷门’工具</title>
        <description>&lt;h3&gt;Shell类&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;zsh, oh_my_zsh&lt;/li&gt;
  &lt;li&gt;htop, atop &amp;amp; glances: 更好的top工具&lt;/li&gt;
  &lt;li&gt;screen, dtach, tmux, byobu： Keep your terminal sessions alive.&lt;/li&gt;
  &lt;li&gt;curl：大名鼎鼎curl&lt;/li&gt;
  &lt;li&gt;ack, ag (silver searcher), pt：更好的代码查找工具，grep&lt;/li&gt;
  &lt;li&gt;calcurse &amp;amp; remind + wyrd：比较实用，终端日历+todo&lt;/li&gt;
  &lt;li&gt;qalc：The best calculator. Ever. (For scripts too.)&lt;/li&gt;
  &lt;li&gt;终端：Tilda &amp;amp; Yakuake（F12的那个酸爽） &amp;amp; Terminator&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;类Shell&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;vim：nonono，我在说exVim，http://exvim.github.io/&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;Gentoo&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;eix:比emerge简洁&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;sublime_text&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Emmet:前端必备，DSL实现&lt;/li&gt;
  &lt;li&gt;PlainTasks:配合insert date，每天先想做啥
&lt;img src=&quot;https://camo.githubusercontent.com/95bbc6d99f00ff199af7daae7d5c65556784f84b/687474703a2f2f636c2e6c792f696d6167652f3171313030513231326f32512f73732e706e67&quot; alt=&quot;图&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;Predawn主题，Seti,Primer,Material&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;layman&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;% &lt;/span&gt;sudo layman -o http://aegypius.github.io/overlay/repositories.xml -f -a aegypius
&lt;span class=&quot;gp&quot;&gt;% &lt;/span&gt;ls /var/lib/layman 
aegypius  haskell  qt gentoo-zh  python
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
        <pubDate>Wed, 11 Nov 2015 19:11:20 +0800</pubDate>
        <link>/2015/11/11/linux-shell-tools/</link>
        <guid isPermaLink="true">/2015/11/11/linux-shell-tools/</guid>
        
        <category>Shell</category>
        
        <category>工具</category>
        
        
        <category>工具</category>
        
      </item>
    
      <item>
        <title>2015年10月书单</title>
        <description>&lt;p&gt;###Machine Learning in Action/机器学习实战&lt;/p&gt;

&lt;p&gt;机器学习随着大数据搬上台面，本质上和机器、自动化之类的无关，是数据分析的范畴。&lt;/p&gt;

&lt;p&gt;作为一个非算法工程师，了解机器学习可以培养基本的“数据素养”。数据素养有一个过程：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;关心收据&lt;/li&gt;
  &lt;li&gt;清洗数据&lt;/li&gt;
  &lt;li&gt;分析数据和数据之间的联系&lt;/li&gt;
  &lt;li&gt;数据到现实的转换&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;本书涵盖机器学习概念的相关分析模型、算法和工具，既然是in action，想必可操作性不错。还没看完，先挖坑。&lt;/p&gt;

&lt;p&gt;###Embedded Android&lt;/p&gt;

&lt;p&gt;by Karim Yaghmour&lt;/p&gt;

&lt;p&gt;一本从方方面面介绍Android的书籍，面向嵌入式工程师，提供从底层驱动、中间层HAL、服务层和组件层到APP层的深度纵向解析，可以作为从Linux原生转Android开发的读必会入门书。&lt;/p&gt;
</description>
        <pubDate>Wed, 21 Oct 2015 20:10:05 +0800</pubDate>
        <link>/2015/10/21/books/</link>
        <guid isPermaLink="true">/2015/10/21/books/</guid>
        
        <category>books</category>
        
        
        <category>Booklist</category>
        
      </item>
    
      <item>
        <title>2015年9月书单</title>
        <description>&lt;p&gt;###Ruby文档-Web安全&lt;/p&gt;

&lt;p&gt;http://guides.rubyonrails.org/security.html&lt;/p&gt;

</description>
        <pubDate>Mon, 28 Sep 2015 20:10:05 +0800</pubDate>
        <link>/2015/09/28/books/</link>
        <guid isPermaLink="true">/2015/09/28/books/</guid>
        
        <category>books</category>
        
        
        <category>Booklist</category>
        
      </item>
    
      <item>
        <title>[leetcode] Leetcode(5)-Manacher算法解决最大回文串问题</title>
        <description>&lt;p&gt;在leetcode上算法题目第5号题目会遇到最大回文串问题，暴力计算复杂度高达O(n^2)不可取，可使用经典的Manacher算法解决。&lt;/p&gt;

&lt;h3&gt;问题&lt;/h3&gt;

&lt;p&gt;输入字符串S，求S包含的最长回文串&lt;/p&gt;

&lt;h3&gt;预处理&lt;/h3&gt;

&lt;p&gt;Manacher用一个巧妙的方式，将所有可能的奇数/偶数长度的回文子串都转换成了奇数长度：在每个字符的两边都插入一个特殊的符号。如 &lt;code class=&quot;highlighter-rouge&quot;&gt;xxyy&lt;/code&gt; =&amp;gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;#x#x#y#y#&lt;/code&gt;,&lt;code class=&quot;highlighter-rouge&quot;&gt;yxy&lt;/code&gt; =&amp;gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;#y#x#y#&lt;/code&gt;&lt;/p&gt;

&lt;h3&gt;记录数组&lt;/h3&gt;

&lt;p&gt;记录数组P[]用以记录以当前S[i]为中心的回文串向左/右方向上的最大扩展长度。比如S和P的对应关系：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;S # 1 # 2 # 2 # 1 # 2 # 3 # 2 # 1 #
P 0 1 0 1 4 1 0 3 0 1 0 5 0 1 0 1 0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;这里有一个重要的特性：&lt;code class=&quot;highlighter-rouge&quot;&gt;P[i]正好是原字符串S中回文串的总长度&lt;/code&gt;，因此利用这个特性，计算完P[]就可以得知最大的回文串。&lt;/p&gt;

&lt;h3&gt;记录数组计算过程的优化&lt;/h3&gt;

&lt;p&gt;主要思想是：利用回文串的对称性，&lt;code class=&quot;highlighter-rouge&quot;&gt;计算中心点右边子回文串时可以利用左边对称位置已经计算出的值&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;先增加两个辅助变量id和mx，其中id表示最大回文子串中心的位置，mx则为id+P[id]，也就是最大回文子串的边界。j=2*id-i，即j是i关于id的对称点， 那么会出现一下两种情况：&lt;/p&gt;

&lt;p&gt;(1) 以j为中心的回文串没有超过mx的边界，此时P[i]=P[j]&lt;/p&gt;

&lt;p&gt;(2) 以j为中心的回文串超过mx的边界，此时[i,mx]范围内的串已经比较过了属于P[i]回文串的一部分，可以直接从max开始接着计算P[i]超出mx的那部分回文串。
经过上面两步处理，用id、mx配合，可以在每次循环中直接对P[i]的快速赋值，从而在计算以i为中心的回文子串的过程中，不必每次都从1开始比较，减少了比较次数，最终使得求解最长回文子串的长度达到线性O(N)的时间复杂度。&lt;/p&gt;

&lt;h3&gt;实现&lt;/h3&gt;

&lt;p&gt;我的提交代码：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;string&amp;gt;
#include &amp;lt;iterator&amp;gt;
#include &amp;lt;iostream&amp;gt;
#include &amp;lt;vector&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;LongestPalindromeSolution&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;longestPalindrome&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;#&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pLen&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;convert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pLen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;center&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scopeL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scopeR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;offset&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmpL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmpR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmpRMax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;centerMax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxPos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;maxPos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;center&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pLen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;scopeL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;center&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;scopeR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;center&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;c1&quot;&gt;// pidx
&lt;/span&gt;            &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scopeL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scopeR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pLen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scopeL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scopeR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)){&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;scopeL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;scopeR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;center&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;n&quot;&gt;centerMax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;center&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;center&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;center&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;maxPos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;center&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;center&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;c1&quot;&gt;// pidx+?
&lt;/span&gt;            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmpR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;center&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmpR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scopeR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;tmpL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;center&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmpR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;tmpRMax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmpL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmpR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmpRMax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;centerMax&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmpR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmpL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;tmpR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmpR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;centerMax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmpR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;offset&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmpR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;c1&quot;&gt;// reset pIdx
&lt;/span&gt;            &lt;span class=&quot;n&quot;&gt;center&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmpR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;printVector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;substr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;maxPos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;maxPos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;maxPos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;cout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxPos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;:&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;maxPos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;:&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;endl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;convert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dst&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;cout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;src:#-&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;dst&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;push_back&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;cout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;dst&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;#&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;cout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;#&quot;&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;cout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;endl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dst&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;private&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;printVector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;cout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;res:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;cout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;cout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;endl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;cout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;flush&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dst&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;#&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;1232454232414211&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;12784487sad22s2f&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;b2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;LongestPalindromeSolution&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;solu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;solu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;longestPalindrome&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;src3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;endl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;solu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;longestPalindrome&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;src4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;endl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;//cout &amp;lt;&amp;lt; solu.convert(src,dst) &amp;lt;&amp;lt; &quot;: &quot; &amp;lt;&amp;lt; dst;
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;最终测试运行耗时8ms，运行效率超过了72%的答案哈哈。&lt;/p&gt;
</description>
        <pubDate>Wed, 16 Sep 2015 00:40:05 +0800</pubDate>
        <link>/2015/09/16/Leetcode-Longest-Palindromic-Substring/</link>
        <guid isPermaLink="true">/2015/09/16/Leetcode-Longest-Palindromic-Substring/</guid>
        
        <category>leetcode</category>
        
        <category>算法</category>
        
        <category>cpp</category>
        
        
        <category>leetcode</category>
        
        <category>算法</category>
        
      </item>
    
  </channel>
</rss>
